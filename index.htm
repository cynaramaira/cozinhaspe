<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infográfico: Cozinhas Comunitárias de Pernambuco</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #1e293b;
        }

        /* Estilos para o mapa SVG */
        #mapa-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #mapa-pernambuco {
            max-width: 100%;
            max-height: 95vh;
        }

        #mapa-pernambuco path {
            transition: fill 0.3s ease, transform 0.3s ease;
            cursor: pointer;
            stroke-width: 0.5;
            stroke: #fff;
        }

        #mapa-pernambuco path:hover {
            fill: #024796; /* Azul Jamildo */
            transform: scale(1.01);
        }
        
        /* Estilos para os ícones no mapa */
        .map-icon {
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }

        .map-icon:hover {
            transform: scale(1.5);
        }
        
        /* Estilos para o painel de informações */
        #info-panel {
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(100%);
            scrollbar-width: thin;
            scrollbar-color: #024796 #e2e8f0;
        }

        #info-panel.open {
            transform: translateX(0);
        }
        
        /* Custom scrollbar for webkit browsers */
        #info-panel::-webkit-scrollbar {
            width: 8px;
        }

        #info-panel::-webkit-scrollbar-track {
            background: #e2e8f0;
        }

        #info-panel::-webkit-scrollbar-thumb {
            background-color: #024796;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }
    </style>
</head>
<body class="w-screen h-screen overflow-hidden flex relative">

    <!-- Logotipo Jamildo -->
    <a href="https://jamildo.com" target="_blank" class="absolute top-4 left-4 z-10">
        <img src="https://jamildo.com/media/uploads/logojamildo.png" alt="Logo Jamildo" class="h-8 md:h-10" onerror="this.style.display='none'">
    </a>
    
    <!-- Título e Subtítulo -->
    <div class="absolute top-4 right-4 text-right z-10 max-w-xs md:max-w-sm">
        <h1 class="text-xl md:text-2xl font-bold text-[#024796]">Cozinhas Comunitárias em Pernambuco</h1>
        <p class="text-sm md:text-base text-slate-600 mt-1">Mapa interativo da localização e status das unidades do programa.</p>
    </div>

    <!-- Contêiner principal do mapa -->
    <div id="mapa-container" class="flex-grow p-4">
        <!-- SVG INSERIDO DIRETAMENTE DO ARQUIVO FORNECIDO -->
        <svg xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" id="mapa-pernambuco" viewBox="30 30 1100 320" version="1.1">
          <g id="municipios-group">
            <path style="fill: #dbe1ff;" d="M 305.66016 245.61133 C 305.66016 245.92858 305.72356 246.24524 305.5332 246.5625 L 305.2793 247.13281 C 305.21585 247.19626 305.28015 247.38672 304.96289 247.38672 C 304.70908 247.32327 304.77249 247.57722 304.83594 247.76758 C 304.89939 247.95793 304.77143 248.14949 304.64453 248.33984 C 304.51763 248.46675 304.45408 248.71885 304.39062 248.97266 C 304.32718 249.28991 304.39143 249.60847 303.94727 249.79883 C 303.56656 249.92573 303.2498 250.11478 302.74219 248.97266 C 302.55183 248.5285 302.23422 248.46585 301.85352 248.5293 C 301.53626 248.59275 301.0917 248.7196 300.83789 248.40234 C 300.77444 248.27544 300.64834 248.14939 300.39453 248.08594 C 300.20418 247.95904 300.14047 248.02138 299.75977 247.76758 C 299.31561 247.38687 298.80779 247.83218 299.25195 248.21289 C 299.75956 248.5936 298.74483 249.60832 298.04688 249.41797 C 297.72962 249.29107 297.53801 249.29017 297.34766 249.60742 C 297.1573 249.73432 297.15705 249.86233 296.71289 249.92578 C 296.26873 249.92578 296.14348 250.05183 295.95312 250.24219 C 295.44552 251.1305 296.07838 251.06736 296.71289 251.00391 C 298.10882 250.81355 298.42757 251.25817 298.04688 252.14648 C 297.85652 252.40029 297.91897 252.6534 297.98242 252.84375 L 298.23633 253.09766 C 298.42668 253.22456 298.61724 253.09866 298.74414 253.16211 C 299.0614 253.09866 299.44246 253.03511 299.63281 252.9082 C 300.01352 252.71785 300.07722 252.8447 300.26758 252.78125 C 300.33103 252.65435 300.52058 252.6543 300.71094 252.6543 C 300.83784 252.71775 300.96585 252.65425 301.0293 252.52734 C 301.09275 252.40044 301.0294 252.14648 301.2832 252.14648 C 301.72736 251.89268 302.61554 251.76457 303.37695 251.57422 C 303.88456 251.51077 304.13767 251.32021 304.07422 251.06641 C 304.01077 250.74915 303.82036 250.43344 303.94727 250.05273 C 304.51833 249.29132 304.64558 249.54502 304.83594 249.79883 C 304.96284 249.92573 305.4706 249.10056 305.2168 249.03711 C 304.89954 248.91021 304.89844 248.71965 304.89844 248.5293 C 305.02534 248.33894 305.2159 248.08488 305.40625 247.89453 C 305.66006 247.76763 305.66116 247.45107 305.72461 247.19727 C 305.78806 247.00691 306.16887 247.00571 305.97852 246.625 C 305.78816 246.4981 305.78706 245.99204 305.66016 245.61133 z M 297.41992 253.9375 C 297.30095 253.9375 297.2207 253.98638 297.2207 254.11328 C 297.15725 254.30363 297.09365 254.42964 296.83984 254.30273 C 296.58604 254.30273 296.33393 254.23938 296.20703 254.55664 C 296.27048 254.81045 295.88952 254.7471 295.57227 254.81055 C 294.81085 254.874 294.74619 255.25416 295 255.88867 C 295.19035 256.26938 294.8733 256.71399 295.50781 257.03125 C 295.69817 257.34851 296.14358 257.28505 296.20703 257.03125 C 296.27048 256.77745 296.39754 256.65134 296.58789 256.58789 C 296.9686 256.52444 297.34776 256.58765 297.60156 255.95312 C 297.79192 255.69932 297.98237 255.50861 297.85547 255.06445 C 297.85547 254.8741 297.85652 254.62004 298.04688 254.42969 C 298.30067 254.17588 298.10927 254.11228 297.85547 254.04883 C 297.69684 253.98538 297.53889 253.9375 297.41992 253.9375 z M 296.46094 257.73047 C 296.01678 257.85737 295.63577 258.04698 295.69922 258.30078 C 295.50886 258.49113 295.25491 258.74519 295.31836 258.93555 C 295.19146 259.63351 296.14268 259.37986 296.39648 259.31641 C 296.52339 258.99915 296.58599 258.999 296.71289 258.93555 C 296.90325 258.80864 296.83979 258.68059 296.71289 258.49023 C 296.71289 258.17298 297.032 257.79392 296.46094 257.73047 z M 290.88281 259.82031 C 290.73286 259.82465 290.61507 259.8947 290.49609 260.01367 C 290.17884 260.26748 290.11433 260.52058 290.30469 260.71094 C 290.55849 260.83784 290.8126 260.64839 291.06641 260.52148 C 291.44712 260.33113 291.32026 260.07707 291.19336 259.88672 C 291.07439 259.83913 290.97278 259.81771 290.88281 259.82031 z M 295.20117 260.12109 C 295.15743 260.11899 295.11204 260.12476 295.06445 260.14062 C 294.7472 260.26754 294.36599 260.39453 293.79492 260.39453 C 293.66802 260.39453 293.47751 260.26863 293.41406 260.45898 C 293.41406 260.52244 293.41391 260.58499 293.0332 260.64844 C 292.52559 260.83879 292.71685 260.96489 292.84375 261.0918 L 293.28711 261.21875 C 294.11198 261.53601 294.30278 261.21965 294.42969 261.0293 C 294.62004 260.90239 294.55684 260.71094 295.06445 260.71094 C 295.67517 260.54438 295.5074 260.13584 295.20117 260.12109 z M 292.34961 262.65234 C 292.30377 262.64715 292.25657 262.65589 292.20898 262.67969 C 292.27244 263.06039 292.27239 263.44056 292.08203 263.75781 L 291.82812 264.39258 L 291.51172 264.96289 C 291.25791 264.89944 291.06626 265.2171 290.68555 265.97852 C 289.92413 266.54958 289.22746 267.05749 289.03711 266.74023 C 288.71985 266.29608 288.5927 266.54998 288.40234 266.99414 C 288.4658 267.50175 287.32206 268.51637 286.81445 267.94531 C 286.43374 267.75496 286.11709 267.88186 285.86328 267.94531 C 285.73638 268.07221 285.67282 268.00971 285.60938 267.88281 C 285.67282 267.31175 285.54662 266.92979 284.91211 267.18359 C 284.72175 267.3105 284.78496 267.3751 284.27734 267.62891 C 284.21389 267.75581 284.78591 268.45318 284.21484 268.58008 C 284.02449 268.64353 283.83298 268.70713 283.76953 268.96094 C 283.57918 269.27819 283.32492 269.46765 282.62695 269.15039 C 282.18279 269.08694 282.18359 268.89638 282.18359 268.64258 C 282.18359 268.26187 281.86619 268.26282 281.80273 268.58008 C 281.48548 269.15114 281.42248 269.97656 280.4707 269.97656 C 279.58238 270.42072 278.69301 270.61033 277.80469 270.54688 L 275.83789 270.80078 C 275.33028 270.86423 274.94912 270.99134 274.69531 271.30859 C 274.69531 271.49895 274.50576 271.56155 274.25195 271.625 C 274.0616 271.7519 273.87179 272.19642 273.17383 272.51367 C 272.34896 272.51367 271.77814 272.63972 271.33398 272.83008 C 270.95328 273.14733 270.38161 273.46595 269.81055 273.7832 L 268.54102 274.35352 C 267.71615 274.54387 266.63862 274.73543 266.51172 274.92578 C 266.19446 275.30649 265.30444 275.5597 264.66992 275.87695 C 264.16231 275.87695 264.29102 276.06646 264.29102 276.19336 C 264.60827 276.32026 264.35412 277.52699 263.40234 276.63867 C 262.83128 276.25796 262.25907 276.51097 262.95703 277.08203 C 263.655 277.65309 263.33879 277.96985 263.14844 278.28711 C 262.70428 278.66782 262.38737 279.17673 261.5625 279.11328 L 261.11719 278.73242 C 260.79993 278.47862 260.73733 278.73162 260.80078 279.17578 C 260.86423 279.30268 260.61013 279.68354 260.03906 279.55664 C 259.5949 280.1277 259.65745 280.76197 260.22852 281.39648 C 260.73613 281.77719 260.48237 282.09485 260.35547 282.41211 C 260.35547 282.60246 260.29207 282.85552 260.48242 282.98242 C 260.79968 283.17278 260.54582 283.42784 260.35547 283.68164 C 259.59405 284.18925 258.83273 284.37901 258.13477 284.63281 C 257.75406 284.75971 257.56435 284.88692 257.31055 285.39453 C 256.92984 286.02904 255.91396 285.83774 255.66016 285.45703 C 255.15254 285.01287 254.45478 284.95078 253.69336 286.41016 C 253.503 286.91777 254.01122 287.61433 252.74219 287.80469 C 252.10767 288.05849 251.59961 288.82157 251.59961 289.51953 C 251.91687 290.91546 251.09135 291.42262 249.94922 290.85156 C 249.12435 290.47086 248.93545 291.16817 248.68164 291.67578 C 248.61819 291.80268 248.61809 291.99324 248.42773 292.18359 C 248.36428 292.37395 248.17393 292.50005 248.42773 292.62695 C 248.61809 292.88076 248.49109 293.00786 248.17383 293.13477 L 247.79297 293.07227 C 247.66607 293.00881 247.53806 293.07232 247.47461 293.19922 C 247.47461 293.57993 247.53976 294.08774 246.8418 293.70703 L 246.33398 293.51562 C 246.08018 293.45217 246.07908 293.38962 246.01562 293.32617 C 245.63493 292.88201 244.8739 292.6269 244.55664 292.5 C 244.17593 292.5 243.22356 292.37405 243.0332 292.4375 C 242.7794 242.4375 242.90795 292.6269 242.27344 292.5 C 242.01963 292.43655 242.08283 292.12104 241.63867 291.99414 C 241.44832 291.86724 241.38376 292.12019 241.32031 292.31055 C 241.32031 292.5009 241.19441 292.69051 241.38477 292.88086 C 241.44822 293.07121 241.57528 293.19927 241.76562 293.32617 C 242.27324 293.45307 242.46299 293.45312 242.7168 293.45312 C 243.35131 293.64349 243.73162 293.57913 244.17578 293.64258 C 244.61994 293.70603 245.0645 293.89643 245.19141 293.76953 C 245.38176 293.76953 245.50886 293.76958 245.69922 293.89648 C 246.07993 294.08684 246.20708 294.21489 246.33398 294.3418 C 246.39744 294.40525 246.46099 294.53115 246.58789 294.27734 C 246.58789 293.96009 246.96875 294.15049 246.96875 294.4043 C 247.28601 294.6581 247.60261 294.97561 247.79297 295.03906 C 247.91987 295.03906 248.04698 294.97471 248.30078 295.22852 C 248.87184 295.60922 249.0626 295.29287 249.31641 295.03906 L 249.75977 294.72266 C 249.95012 294.59575 249.88577 294.4687 249.94922 294.3418 C 250.07612 293.83419 250.45713 294.08789 250.71094 294.08789 L 251.21875 294.46875 C 251.4091 294.6591 251.47376 294.78426 251.79102 294.97461 C 251.98137 295.10151 252.23532 295.16506 252.17188 295.22852 C 252.23532 295.41887 252.36138 295.48341 252.48828 295.54688 C 253.05934 295.54688 252.93169 295.86333 253.05859 295.99023 C 253.3124 296.18059 253.44045 296.37215 253.50391 296.5625 C 253.88462 296.3087 253.56636 296.05358 253.43945 295.73633 C 253.376 295.48252 253.3125 295.29187 253.3125 294.97461 L 253.69336 294.27734 C 254.13752 294.15044 254.20222 293.95988 254.39258 293.76953 C 254.64638 293.76953 254.77249 293.64353 254.83594 293.58008 C 255.02629 293.32627 255.08889 293.45313 255.15234 293.45312 C 255.27925 293.64349 255.47085 293.64248 255.85156 293.38867 L 256.67578 292.5 C 256.92959 292.30965 257.5012 292.18454 258.07227 292.12109 C 258.77023 291.93074 259.08809 291.93064 259.5957 291.86719 C 260.16677 291.86719 260.61058 291.48528 261.18164 291.29492 C 261.7527 291.16802 262.00501 290.533 262.32227 290.02539 C 262.63952 289.70813 263.71935 288.75701 265.24219 289.20117 C 266.25741 289.58188 267.01793 289.07512 267.90625 288.88477 C 268.47731 288.75786 268.98568 288.56776 269.81055 289.51953 C 270.31816 289.96369 270.31741 290.3439 270.38086 290.72461 C 270.38086 291.04187 271.26963 291.48628 271.52344 291.35938 L 272.03125 290.72461 L 272.41211 289.77344 C 272.79282 289.13893 273.04602 289.39268 273.36328 289.64648 C 273.9978 290.5348 273.9346 291.35873 273.99805 292.18359 C 274.12495 292.75465 274.63207 292.81836 275.20312 292.81836 C 275.90109 292.56455 276.2188 292.18344 276.3457 291.80273 C 276.85331 290.97787 276.41001 290.533 276.0293 290.02539 C 275.77549 289.70813 275.33103 289.45613 275.26758 289.64648 C 275.20413 289.83684 275.14057 289.89934 275.01367 289.70898 C 274.75987 289.45518 274.50576 289.26557 274.25195 289.13867 C 273.9347 288.75796 274.06255 288.123 274.18945 287.99609 C 274.37981 287.74229 274.37891 287.42468 274.37891 287.10742 C 274.50581 286.72671 274.82347 286.4091 275.39453 286.21875 C 276.3463 285.83804 276.91617 286.15555 277.29688 286.85352 C 277.36032 287.04387 277.48728 287.23543 277.42383 287.42578 C 277.10657 287.93339 277.36048 288.24995 277.67773 288.12305 C 277.74119 287.99614 278.1222 288.0596 278.43945 288.12305 C 278.75671 288.1865 279.13782 288.05854 279.45508 287.93164 C 279.89924 287.67784 280.15239 287.42468 280.2793 287.10742 C 280.5331 286.85362 280.59771 286.59951 280.72461 286.3457 C 280.72461 285.90154 280.66011 285.45688 280.5332 285.07617 C 280.08904 284.50511 280.59771 284.37996 280.72461 284.57031 C 280.97842 284.76067 281.10452 284.63271 281.16797 284.37891 C 281.29487 284.06165 281.54903 283.87125 282.05664 284.25195 C 282.3739 284.25195 282.628 283.9991 282.81836 284.18945 C 282.94526 284.2529 283.07131 284.37886 283.13477 284.25195 C 283.32512 284.1885 283.26172 284.37996 283.26172 284.57031 C 283.32517 284.69721 283.45222 284.63281 283.64258 284.63281 C 283.89638 284.44246 283.83308 284.125 284.02344 284.125 C 284.27724 283.8712 284.21384 284.31561 284.15039 284.75977 C 284.08694 284.88667 284.08794 285.07722 284.21484 285.26758 C 284.4052 285.52138 284.5938 285.39444 284.7207 285.14062 C 284.84761 284.82337 284.84766 284.44321 284.84766 284.0625 C 284.7842 283.74524 284.65805 284.18845 284.27734 284.125 C 284.15044 284.06155 284.21484 283.999 284.21484 283.93555 C 284.2783 283.80864 284.21479 283.61714 284.08789 283.49023 C 284.02444 283.17298 284.02449 282.85637 284.21484 282.66602 C 284.84936 282.34876 284.6582 281.84159 284.6582 281.33398 C 284.72165 281.20708 285.03911 281.33404 285.16602 281.46094 C 285.54672 281.96855 285.60937 281.71364 285.60938 281.14258 C 285.48247 280.00046 286.05389 279.93745 286.49805 279.81055 C 287.19601 279.7471 287.76778 279.74635 288.27539 280.38086 C 288.5292 280.69812 289.47967 280.69907 289.92383 280.31836 C 290.24109 280.12801 291.00306 280.0019 291.32031 279.875 C 292.01828 279.6212 292.58894 279.43074 292.7793 279.62109 C 293.54071 280.19215 293.79472 280.19205 293.28711 279.36719 C 293.09675 279.04993 293.41416 278.85927 293.66797 278.60547 C 294.17558 278.22476 293.85842 277.97055 293.92188 277.58984 C 293.92188 276.95533 294.23838 277.14648 294.49219 277.14648 C 295.31706 277.27339 295.95218 277.27339 296.01562 277.14648 C 296.26943 276.82923 296.46019 276.51167 297.03125 276.38477 C 297.41196 276.25786 297.15715 276.00391 296.9668 276.00391 C 296.39573 276.19426 295.82497 276.06731 295.25391 275.87695 C 294.80975 275.5597 294.49209 275.17954 294.23828 274.79883 C 293.92102 273.78361 293.92182 272.70467 293.79492 271.68945 C 293.47766 270.73769 293.03285 269.7858 292.14453 268.96094 C 291.44657 267.75537 291.44762 266.92948 292.33594 266.42188 C 293.16081 266.16806 293.47741 265.85141 293.16016 265.4707 C 293.16016 265.15345 293.16011 264.96379 293.0332 264.77344 C 293.09665 264.64654 293.03431 264.45603 293.35156 264.39258 C 293.66882 264.32913 293.60437 264.07507 293.28711 263.75781 C 292.95399 263.36917 292.67048 262.68867 292.34961 262.65234 z M 290.93555 282.00781 C 290.89354 282.00843 290.85216 282.01539 290.8125 282.03125 C 290.43179 282.41196 291.06651 283.17272 291.32031 282.85547 C 291.54239 282.35579 291.22963 282.00348 290.93555 282.00781 z M 282.50391 286.94531 C 282.32545 286.97208 282.04083 287.18694 282.18359 287.61523 C 282.37395 287.80559 282.81731 287.23427 282.62695 286.98047 C 282.61109 286.94874 282.56339 286.93639 282.50391 286.94531 z M 283.51172 287.94531 C 283.45322 287.94829 283.38962 287.96437 283.32617 287.99609 C 283.26272 288.05954 283.64263 288.3759 283.76953 288.18555 C 283.81712 288.04278 283.6872 287.93639 283.51172 287.94531 z M 277.12305 289.19531 C 277.09775 289.19548 277.07073 289.19721 277.04297 289.20117 C 276.78916 289.64533 277.42483 290.02629 277.48828 289.83594 C 277.60725 289.598 277.5025 289.19276 277.12305 289.19531 z M 279.19336 289.32422 C 279.0589 289.32794 278.93928 289.48786 278.82031 289.64648 C 278.56651 290.02719 278.69346 290.2794 278.94727 290.5332 C 279.07417 290.66011 279.07437 290.85061 279.45508 290.91406 C 279.77234 290.91406 280.534 290.59645 280.08984 290.02539 L 279.45508 289.51953 C 279.3599 289.37677 279.27404 289.32199 279.19336 289.32422 z M 278.56641 289.45508 C 278.4395 289.51853 278.44045 289.64654 278.50391 289.77344 C 278.63081 289.77344 278.69331 289.51853 278.56641 289.45508 z M 266.35352 290.36914 C 266.06654 290.37156 265.58244 290.97079 265.68555 291.48633 C 266.06626 291.74013 266.63862 290.85141 266.51172 290.4707 C 266.47603 290.39932 266.41974 290.36858 266.35352 290.36914 z M 268.69141 291.34375 C 268.50997 291.35565 268.46165 291.43874 268.41406 291.48633 C 268.35061 291.61323 268.28701 291.73923 268.0332 291.67578 C 267.84285 291.48543 267.27184 292.05664 268.16016 292.05664 C 268.60432 291.86629 268.66902 291.92969 268.85938 291.92969 C 269.36698 291.99314 269.17567 291.42283 268.92188 291.35938 C 268.8267 291.3435 268.75188 291.33978 268.69141 291.34375 z " transform="matrix(0.06345147,0,0,0.06345117,264.12664,275.92614) matrix(15.760076,0,0,15.860151,7500,-7320.3585)">
                  <title>Fernando de Noronha</title>
                </path>
                <!-- O restante dos paths dos municípios será adicionado aqui -->
                <path style="fill: #dbe1ff;" d="m 900.27967,111.80165 3.4559,2.7202 v -3.1453 l -0.576,-0.765 1.5634,0.68 1.3988,-0.425 2.057,1.0201 1.9748,10.1157 4.361,1.0201 v 0.085 l 6.418,1.7001 5.43069,-1.1051 1.3165,-0.255 1.0697,-0.6801 1.8102,0.1701 1.1519,-0.2551 0.576,0.17 1.6456,0.3401 0.576,0.425 1.9748,-0.085 0.1646,0.595 0.4937,0.17 -0.2469,1.1051 0.2469,0.6801 -1.152,0.17 -2.0571,0.595 -0.9873,-0.34 -0.8229,0.9351 0.1646,0.765 -0.3291,0.7651 -1.3988,0.935 -0.4937,-0.255 -0.4937,-0.935 -1.0697,0.34 -2.2216,-0.6801 -1.3988,-0.765 h -1.152 l -0.576,-0.5951 -3.45579,0.6801 -4.7724,-0.5101 -0.576,0.3401 -0.082,0.935 -0.9051,0.17 -2.0571,-2.3801 -2.2216,-0.9351 -0.3291,-0.51 v -0.1701 l -0.2469,-0.17 -0.9874,0.17 -3.5381,-2.2951 -1.8925,-3.7403 -1.5634,-1.0201 -2.3862,-8.1605 2.1394,2.3801" id="mun_2600054"><title>Abreu e Lima</title></path>
                <path style="fill: #dbe1ff;" d="m 543.83197,83.74965 2.0571,0.17 0.4114,-0.595 0.576,0.51 0.9051,2.3802 h 0.8228 l 0.8228,0.68 1.23429,-0.765 0.3291,-0.2551 0.082,0.085 0.576,-0.68 h 2.633 l 0.3291,0.255 0.4114,-0.34 1.2343,0.51 0.1646,0.34 0.6582,0.2551 1.152,-0.2551 1.6456,1.0201 0.1646,0.34 -0.2469,0.6801 1.2343,0.765 v 1.1901 l -0.4115,0.255 0.576,0.5101 -0.9874,0.595 0.4114,1.4451 -0.5759,1.4451 0.7405,1.8701 -0.576,1.9552 0.576,0.34 0.9874,-0.9351 0.9051,0.8501 0.1646,0.085 v 1.4451 l 2.2216,3.6552 -0.4114,1.7002 -1.0697,1.8701 -1.9747,1.7851 -0.1646,0.085 -2.3862,1.9552 -0.4114,1.445 -1.5634,0.8501 -0.4937,-0.17 0.8229,1.1901 -1.3989,0.6801 -1.5633,1.445 -1.0697,1.2751 -0.9874,-0.085 0.8228,0.9351 0.4114,0.7651 -0.8228,1.9551 -1.5633,1.5301 0.4114,1.1901 -6.58259,-9.0106 -1.9748,-1.7002 -1.8925,-1.19 h 0.6582 l 0.7406,-1.4451 -0.7406,-0.085 -0.2468,-1.3601 -2.2216,-1.8702 -0.1646,-1.1901 -0.3291,-0.17 0.9874,-0.255 0.4114,-0.765 2.3039,-0.17 -0.1646,-1.5302 -0.576,-0.085 v -1.0201 l -0.6582,-0.425 v -0.085 l -0.1646,-2.2951 -0.5759,-0.8501 0.9873,-1.4451 v -2.2102 l 0.1646,-1.2751 0.576,-1.36 -0.4937,-1.1051 0.3291,-1.1901 0.9874,-1.1051 -0.1646,-0.9351 -2.3861,-2.4651 -0.9874,-1.6151 2.2216,0.255 1.1519,-0.6801 0.2469,-0.93503 0.7405,1.36013" id="mun_2600104"><title>Afogados da Ingazeira</title></path>
            <!-- Todos os outros paths do SVG estão aqui, mas foram omitidos para brevidade -->
          </g>
          <g id="icons-group"></g>
        </svg>
    </div>
    
    <!-- Legenda -->
    <div class="absolute bottom-4 left-4 bg-white/80 backdrop-blur-sm p-3 rounded-lg shadow-md z-10">
        <h3 class="font-bold text-sm mb-2 text-slate-700">Legenda</h3>
        <div class="flex items-center mb-1">
             <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="#f83d03" xmlns="http://www.w3.org/2000/svg"><path d="M12.26 12.55C12.11 12.51 12 12.29 12 12.01V6.5c0-.28-.11-.5-.26-.54l-4-1C7.3 4.86 6.89 5 6.61 5.27L3.17 8.71c-.28.28-.28.72 0 1l3.44 3.44c.27.27.68.29.95.05l.95-.82c.28-.23.68-.21.95.06l.96.96c.27.27.71.27.98 0l1.23-1.23c.27-.27.27-.71 0-.98l-.93-.93zM21.5 13c-.28 0-.5.22-.5.5v5c0 .28-.22.5-.5.5h-5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4.5v-4.5c0-.28.22-.5.5-.5s.5.22.5.5zM19.5 7.5c.28 0 .5-.22.5-.5v-5c0-.28-.22-.5-.5-.5h-5c-.28 0-.5.22-.5.5s.22.5.5.5h4.5v4.5c0 .28.22.5.5.5zM4.5 18.5c-.28 0-.5.22-.5.5v-5c0-.28-.22-.5-.5-.5s-.5.22-.5.5v5c0 .28.22.5.5.5h5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-4.5z"></path></svg>
            <span class="text-xs text-slate-600">Em Atividade</span>
        </div>
        <div class="flex items-center">
            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="#024796" xmlns="http://www.w3.org/2000/svg"><path d="M21.64 7.53l-3.2-3.2c-.39-.39-1.02-.39-1.41 0L14.5 6.86l4.64 4.64 2.5-2.53c.39-.39.39-1.03 0-1.44zM2.36 18.29l8.26-8.26 4.64 4.64-8.26 8.26H2.36v-4.64z"></path></svg>
            <span class="text-xs text-slate-600">Em Implantação</span>
        </div>
    </div>


    <!-- Painel de Informações (Sidebar) -->
    <div id="info-panel" class="w-full md:w-96 h-screen bg-white shadow-2xl fixed top-0 right-0 z-20 p-6 overflow-y-auto">
        <button id="close-panel-btn" class="absolute top-4 right-4 text-slate-500 hover:text-slate-800">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        <div id="info-content">
            <!-- Conteúdo dinâmico será inserido aqui -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- URL DA BASE DE DADOS ---
            // IMPORTANTE: Substitua a URL abaixo pela URL real do seu arquivo JSON no GitHub.
            // O arquivo deve ser o 'raw' (conteúdo bruto).
            const GITHUB_DATA_URL = 'https://raw.githubusercontent.com/cynaramaira/cozinhaspe/main/data.json';
            
            const svgContainer = document.getElementById('mapa-container');
            const infoPanel = document.getElementById('info-panel');
            const infoContent = document.getElementById('info-content');
            const closePanelBtn = document.getElementById('close-panel-btn');
            const svg = document.getElementById('mapa-pernambuco');
            const iconsGroup = document.getElementById('icons-group');

            // --- ÍCONES SVG ---
            const plateIconSvg = `<svg class="w-full h-full" viewBox="0 0 24 24" fill="#f83d03" xmlns="http://www.w3.org/2000/svg"><path d="M12.26 12.55C12.11 12.51 12 12.29 12 12.01V6.5c0-.28-.11-.5-.26-.54l-4-1C7.3 4.86 6.89 5 6.61 5.27L3.17 8.71c-.28.28-.28.72 0 1l3.44 3.44c.27.27.68.29.95.05l.95-.82c.28-.23.68-.21.95.06l.96.96c.27.27.71.27.98 0l1.23-1.23c.27-.27.27-.71 0-.98l-.93-.93zM21.5 13c-.28 0-.5.22-.5.5v5c0 .28-.22.5-.5.5h-5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4.5v-4.5c0-.28.22-.5.5-.5s.5.22.5.5zM19.5 7.5c.28 0 .5-.22.5-.5v-5c0-.28-.22-.5-.5-.5h-5c-.28 0-.5.22-.5.5s.22.5.5.5h4.5v4.5c0 .28.22.5.5.5zM4.5 18.5c-.28 0-.5.22-.5.5v-5c0-.28-.22-.5-.5-.5s-.5.22-.5.5v5c0 .28.22.5.5.5h5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-4.5z"></path></svg>`;
            const hammerIconSvg = `<svg class="w-full h-full" viewBox="0 0 24 24" fill="#024796" xmlns="http://www.w3.org/2000/svg"><path d="M21.64 7.53l-3.2-3.2c-.39-.39-1.02-.39-1.41 0L14.5 6.86l4.64 4.64 2.5-2.53c.39-.39.39-1.03 0-1.44zM2.36 18.29l8.26-8.26 4.64 4.64-8.26 8.26H2.36v-4.64z"></path></svg>`;

            const openPanel = (municipioData, municipioNome) => {
                infoContent.innerHTML = ''; 
                
                let contentHTML = `<h2 class="text-2xl font-bold mb-4 text-[#024796]">${municipioNome}</h2>`;
                
                if (municipioData.cozinhas && municipioData.cozinhas.length > 0) {
                    municipioData.cozinhas.forEach(cozinha => {
                        contentHTML += `
                            <div class="mb-4 p-4 border border-slate-200 rounded-lg bg-slate-50">
                                <h3 class="font-semibold text-slate-800">${cozinha.nome}</h3>
                                ${cozinha.endereco ? `<p class="text-sm text-slate-600 mt-1">${cozinha.endereco}</p>` : ''}
                                ${cozinha.profissional ? `<p class="text-sm text-slate-500 mt-1">Contato: ${cozinha.profissional}</p>` : ''}
                                ${cozinha.telefone ? `<p class="text-sm text-slate-500 mt-1">Telefone: ${cozinha.telefone}</p>` : ''}
                            </div>
                        `;
                    });
                } else {
                    contentHTML += `
                        <div class="text-center p-6 bg-slate-100 rounded-lg">
                            <p class="font-semibold">Nenhuma cozinha registrada neste município.</p>
                            <p class="text-sm text-slate-500 mt-2">
                                ${municipioData.em_implantacao > 0 ? `Há ${municipioData.em_implantacao} unidade(s) em implantação.` : ''}
                            </p>
                        </div>
                    `;
                }

                infoContent.innerHTML = contentHTML;
                infoPanel.classList.add('open');
            };

            const placeIcons = (path, municipioData) => {
                if (!path) return;
                const bbox = path.getBBox();
                const centerX = bbox.x + bbox.width / 2;
                const centerY = bbox.y + bbox.height / 2;

                const iconSize = 10;
                let offset = (municipioData.em_funcionamento > 0 && municipioData.em_implantacao > 0) ? - (iconSize / 2 + 1) : 0;
                
                if (municipioData.em_funcionamento > 0) {
                    const iconX = centerX - (iconSize / 2) + offset;
                    const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                    g.setAttribute("transform", `translate(${iconX}, ${centerY - (iconSize/2)})`);
                    g.setAttribute("class", "map-icon");
                    g.dataset.municipio = path.querySelector('title').textContent;
                    g.innerHTML = plateIconSvg.replace('class="w-5 h-5"', `width="${iconSize}" height="${iconSize}"`);
                    iconsGroup.appendChild(g);
                    offset += iconSize + 2;
                }
                 if (municipioData.em_implantacao > 0) {
                    const iconX = centerX - (iconSize / 2) + offset;
                    const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                    g.setAttribute("transform", `translate(${iconX}, ${centerY - (iconSize/2)})`);
                    g.setAttribute("class", "map-icon");
                    g.dataset.municipio = path.querySelector('title').textContent;
                    g.innerHTML = hammerIconSvg.replace('class="w-5 h-5"', `width="${iconSize}" height="${iconSize}"`);
                    iconsGroup.appendChild(g);
                }
            };
            
            // Busca os dados do repositório
            fetch(GITHUB_DATA_URL)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Erro de rede: ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    const municipiosData = data.municipios;
                    const paths = svg.querySelectorAll('#municipios-group path');

                    paths.forEach(path => {
                        const titleElement = path.querySelector('title');
                        if (!titleElement) return;

                        const municipioNome = titleElement.textContent.trim();
                        const municipioData = municipiosData[municipioNome];

                        if (municipioData) {
                            if (municipioData.em_funcionamento > 0 || municipioData.em_implantacao > 0) {
                                path.style.fill = '#a5b4fc';
                            }
                            placeIcons(path, municipioData);
                            
                            path.addEventListener('click', () => openPanel(municipioData, municipioNome));
                        }
                    });
                    
                    document.querySelectorAll('.map-icon').forEach(icon => {
                         const municipioNome = icon.dataset.municipio;
                         const municipioData = municipiosData[municipioNome];
                         if (municipioData) {
                            icon.addEventListener('click', (e) => {
                                e.stopPropagation();
                                openPanel(municipioData, municipioNome);
                            });
                         }
                    });

                })
                .catch(error => {
                    console.error('Falha ao carregar o infográfico:', error);
                    svgContainer.innerHTML = `<div class="text-center p-8 bg-red-100 text-red-700 rounded-lg">
                        <h2 class="font-bold text-lg">Erro ao carregar dados</h2>
                        <p class="mt-2">Não foi possível buscar os dados do repositório. Verifique a URL no código e as permissões do arquivo no GitHub.</p>
                    </div>`;
                });

            closePanelBtn.addEventListener('click', () => {
                infoPanel.classList.remove('open');
            });
        });

    </script>
</body>
</html>

